<!DOCTYPE html>
<html lang="en" class="">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="/assets/build/index.css" />
    <script src="/assets/build/index.js" async></script>
    <title>PyCon AU 2020</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
  </head>
  <body>
    
    
    <nav class="">
      <a id="nav-logo" href="/"
        ><img src="/assets/Logo_Standard_PyConline.svg"
      /></a>
      <ul>
        <li><a href="/about">About</a></li>
        <li><a href="/sponsor">Sponsor</a></li>
        <li><a href="/program">Program</a></li>
        <li><a href="/attend">Attend</a></li>
        <li><a href="/conduct">Conduct</a></li>
      </ul>
      <div class="dates">
        4&ndash;6 September 2020&emsp;&bull;&emsp;<span class="location"
          >The Internet</span
        >
      </div>
    </nav>
    
    
    <div id="content">
      
      <main>
        
<h1>What happens behind execution of an `import` statement?</h1>
<div class="time-bar">
  Sat September 05, 11:00 AM&ndash;11:25 AM &bull;
  <a href="/program/sat/"
    >Back to program</a
  >
</div>

<div class="backstage-only backstage-block">
  <table>
    <tbody>
      <tr>
        <th>Start time</th>
        <td
          data-reltime="2020-09-05T11:00:00+09:30"
        >
          11:00
        </td>
      </tr>
      <tr>
        <th>End time</th>
        <td
          data-reltime="2020-09-05T11:25:00+09:30"
        >
          11:25
        </td>
      </tr>
      <tr>
        <th>Countdown link</th>
        <td>
          <a
            href="https://nextdayvideo.com/tools/countdown-widget/?t=2020-09-05T11:25:00+09:30&r=0:5:0-1/0:2:0-1/0:1:0-1/0:10:0-1/"
          >
            Open timer
          </a>
        </td>
      </tr>
    </tbody>
  </table>
</div>




<iframe
  width="560"
  height="315"
  src="https://www.youtube-nocookie.com/embed/WrWxThyEl9Y"
  frameborder="0"
  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
  allowfullscreen
  class="ytembed"
></iframe>


<div class="lede"><p>Very often we in our daily usage of Python, we face errors related to $PATH, $PYTHONPATH, or other import related errors. A clear understanding of the import system helps us to fix these errors properly, and build extensions on top of the import system.</p>
<p>This talk follows <a href="https://github.com/alex/what-happens-when">this</a> template to explain what goes on in the background when you execute <code>from spam import ham</code>, or any other import statement. Additionally, it discusses <strong>import hooks</strong>(PEP-302) and how to use them.</p></div>

<h3>Introduction</h3>
<p>Every Python script involves import statements. And if you develop software with Python, you might already have come across import and path related errors like ImportError, ModuleNotFoundError, etc.</p>
<p>It's important to know the import mechanics, both for general knowledge, and to develop custom plugins to tweak the import system. In this talk, we'd discuss in detail about how the import system works, its components and what tasks they perform respectively.</p>
<h3>Who should attend this talk?</h3>
<p>This talk is most suitable for beginner to intermediate level Pythonistas.</p>
<h3>How does the talk proceed?</h3>
<ul>
<li>The talk starts with packages in Python, and how to organize Python files in order to make them distributable, and importable.</li>
<li>It proceeds to discuss about $PATH and $PYTHONPATH, and how they are used to enable system-wide imports, and how capable are Python's path based import handlers, if they let a programmer import from remote URIs, etc.</li>
<li>Different types of packages such as regular packages, namespace packages, frozen modules, etc. are discussed.</li>
<li>
<p>After that, some key components are introduced i.e sys.modules and how modules are refreshed and regulated in runtime, what finders and loaders are, and what 'import protocol' is, sys.meta_path, sys.path_hooks.</p>
</li>
<li>
<p>The talk then goes in detail about finders, the default finders in Python, spec object, and its functioning.
After finders, loaders are discussed with sample code, explaining the steps involved from processing a spec, and creating, executing, and loading a module to sys.modules.</p>
</li>
<li>After finders and loaders, 'import hooks' are discussed i.e how Python allows injection of custom components to handle a pre-defined import statement.</li>
<li>This follows a demonstration of import hooks, implementation of a meta_path finder Class which protects importing of modules from an http server with a token exchange. (So the source code is protected, and it can be logged who requested the source code by a signature to act against misuse.)</li>
<li>The demonstration is followed by listing some important use cases of import hooks, and how folks have used it in the past.</li>
</ul>
<h3>What can someone get out of this talk?</h3>
<p>An understanding of the import system's mechanics, which helps to quickly debug and fix path/import related errors.
Knowledge of import hooks, to build custom import related plugins.</p>
<h3>Outline</h3>
<p>Time Duration - Topic</p>
<p>0 - 4 Introduction to packages and how to organize packages</p>
<p>4 - 7 Types of packages in python, and the default ones the import system supports.</p>
<p>7 - 12 Components of import system - sys.modules - finders and loaders - chronology of import related tasks</p>
<p>12 - 15 Finders, examples of finders, and how they function, find_spec function</p>
<p>15 - 17 sys.meta_path, sys.path_hooks in detail</p>
<p>17 - 19 Introduction to PEP 302, and import hooks</p>
<p>19 - 22 explain loaders with template code</p>
<p>23 - 25 code walkthrough and demonstration of an implementation of import hooks</p>
<p>25 - 26 briefly cover 'importing of submodules' topic with an example</p>
<p>26 - 28 present use-cases of import hooks, and usage in industry, conclude.</p>
<p>28 - 30 Q&amp;A</p>
<h3>Prerequisites:</h3>
<ul>
<li>Syntactic knowledge of Python</li>
<li>Should have come across import/$PYTHONPATH related errors</li>
</ul>
<p>If you don't know either and still like the talk idea, please follow <a href="https://gist.github.com/plant99/9fee5dbe73f25d4da9c7fb956a36b889">this gist</a> to 'intentionally' come across the errors :)</p>
<h2>Content URLs</h2>
<p><a href="https://speakerdeck.com/plant99/wip-what-happens-behind-execution-of-an-import-statement">WIP slides</a></p>
<p><a href="https://plant99.bitbucket.io/pages/blogs/ten.html">Longer description of the talk idea as blogpost</a></p>


  
<div class="profile">
  
  <div class="details">
    <b> Shivashis Padhi</b>
    <small>
      He/Him  
    </small>
      <p>Shivashis Padhi is a senior, majoring Computer Science and Engineering at National Institute of Technology, Tiruchirappalli, India.</p>
<p>With ~3 years of experience as a student software developer he has worked with multiple organizations(Python Software Foundation - GSoC'20, Delta Force), large and small scale startups(Grofers, Flytbase Labs, Gmetri), he lives by a simple policy, 'learn and build stuff to make the world a better place'. He's currently an intern with the Data Engineering team at Grofers building geospatial data-management tools. He spends some time contributing to <a href="https://bitbucket.org/wxmetvis/mss/src">MSS</a> with an amazing set of people.</p>
<p>He also gave his first ever technical talk, about <a href="https://www.youtube.com/watch?v=yWSCGuIIQNI">maps and Python</a> during PyCon India'19.</p>
<p>Keeping work aside, he's a big fan of earth, computers, maps, classical music from different cultures, and history.</p> 
  </div>
</div>



      </main>
      
    </div>
    <footer>
      <section class="sponsor auspice">
        <h1>PyCon AU is an event of</h1>
        <img src='/assets/sponsor-logos/la.svg' alt="Linux Australia" />
      </section>
      <section class="sponsor video">
        <h1>Video Sponsor</h1>
        <img src='/assets/sponsor-logos/buildkite.svg' alt="Buildkite" />
      </section>
      <section class="sponsor infra">
        <h1>Infrastructure Sponsor</h1>
        <img src='/assets/sponsor-logos/microsoft.png' alt="Microsoft" />
      </section>
      <section class="signup">
        <h1>Sign up for announcements</h1>
        <form
          method="post"
          action="https://lists.linux.org.au/mailman/subscribe/pycon-au-announce"
          class="mailing-list-signup-form"
        >
          <input
            type="email"
            name="email"
            required
            placeholder="snek@example.com"
          />
          <button type="submit">Sign up</button>
        </form>
      </section>
      <section class="copyright">
        <b>Contact us:</b>
        <a href="mailto:contact@pycon.org.au">contact@pycon.org.au</a><br />
        &copy; 2020, the PyCon AU team
      </section>
    </footer>
  </body>
  <script type="text/javascript">
    if (window.location.hash === "#debug") document.body.classList.add("debug")
  </script>
</html>